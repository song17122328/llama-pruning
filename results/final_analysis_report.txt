
================================================================================
LLAMA 模型分析
================================================================================
总实验数: 45, 有效结果: 45, 无效实验: 0

────────────────────────────────────────────────────────────────────────────────
1. 剪枝方法对比
────────────────────────────────────────────────────────────────────────────────
方法              平均ACC        标准差        最小值        最大值        实验数     
--------------------------------------------------------------------------------
BLOCKWISE       0.5821       0.0172     0.5493     0.5980     15      
LAYERWISE       0.5323       0.0345     0.4783     0.5713     15      
TAYLOR          0.5412       0.0515     0.4342     0.5803     15      

✓ 最佳剪枝方法: BLOCKWISE (ACC: 0.5980)

────────────────────────────────────────────────────────────────────────────────
2. Taylor 参数影响分析
────────────────────────────────────────────────────────────────────────────────

按 taylor_seq_len 分组:
Seq Len      平均ACC        标准差        实验数     
--------------------------------------------------
16           0.4988       0.0552     9       
32           0.5345       0.0216     9       
64           0.5699       0.0256     9       
128          0.5755       0.0104     9       
256          0.5805       0.0118     9       
✓ 最佳 seq_len: 256 (平均 ACC: 0.5805)

按 taylor_num_samples 分组:
Num Samples  平均ACC        标准差        实验数     
--------------------------------------------------
128          0.5504       0.0448     15      
256          0.5515       0.0421     15      
512          0.5537       0.0419     15      
✓ 最佳 num_samples: 512 (平均 ACC: 0.5537)

────────────────────────────────────────────────────────────────────────────────
3. 梯度指标与 ACC 的相关性
────────────────────────────────────────────────────────────────────────────────
指标                        相关系数        
----------------------------------------
grad_mean_ratio                0.6972
grad_norm_ratio                   nan
grad_mean_range                0.4659
grad_norm_range                   nan

相关性解释:
  • grad_mean_ratio: 中等正相关 (0.697)

────────────────────────────────────────────────────────────────────────────────
4. 极端剪枝层数影响
────────────────────────────────────────────────────────────────────────────────
与 ACC 的相关系数: -0.2940

按极端剪枝层数分组:
层数       平均ACC        实验数     
------------------------------
0        0.5661       12      
1        0.5727       2       
2        0.5582       7       
3        0.5147       5       
4        0.5649       2       
5        0.5694       13      
6        0.4681       3       
8        0.4783       1       

────────────────────────────────────────────────────────────────────────────────
5. PPL 与 ACC 的关系
────────────────────────────────────────────────────────────────────────────────
PPL 与 ACC 的相关系数: -0.7972

────────────────────────────────────────────────────────────────────────────────
6. 最佳配置详情
────────────────────────────────────────────────────────────────────────────────
剪枝方法: BLOCKWISE
ACC mean: 0.5980
PPL: 13.17
taylor_seq_len: 64
taylor_num_samples: 128
grad_norm_ratio: 12.17
extreme_pruning_layers: 5

各任务详细 ACC:
  • BOOLQ          : 0.7324
  • PIQA           : 0.7301
  • HELLASWAG      : 0.6476
  • WINOGRANDE     : 0.6953
  • ARC_EASY       : 0.5981
  • ARC_CHALLENGE  : 0.3968
  • OPENBOOKQA     : 0.3860

================================================================================
QWEN 模型分析
================================================================================
总实验数: 45, 有效结果: 45, 无效实验: 0

────────────────────────────────────────────────────────────────────────────────
1. 剪枝方法对比
────────────────────────────────────────────────────────────────────────────────
方法              平均ACC        标准差        最小值        最大值        实验数     
--------------------------------------------------------------------------------
BLOCKWISE       0.5098       0.0471     0.4321     0.5689     15      
LAYERWISE       0.5849       0.0213     0.5444     0.6161     15      
TAYLOR          0.5903       0.0126     0.5615     0.6096     15      

✓ 最佳剪枝方法: LAYERWISE (ACC: 0.6161)

────────────────────────────────────────────────────────────────────────────────
2. Taylor 参数影响分析
────────────────────────────────────────────────────────────────────────────────

按 taylor_seq_len 分组:
Seq Len      平均ACC        标准差        实验数     
--------------------------------------------------
16           0.5265       0.0569     9       
32           0.5606       0.0367     9       
64           0.5453       0.0566     9       
128          0.5897       0.0204     9       
256          0.5861       0.0200     9       
✓ 最佳 seq_len: 128 (平均 ACC: 0.5897)

按 taylor_num_samples 分组:
Num Samples  平均ACC        标准差        实验数     
--------------------------------------------------
128          0.5630       0.0462     15      
256          0.5571       0.0501     15      
512          0.5649       0.0470     15      
✓ 最佳 num_samples: 512 (平均 ACC: 0.5649)

────────────────────────────────────────────────────────────────────────────────
3. 梯度指标与 ACC 的相关性
────────────────────────────────────────────────────────────────────────────────
指标                        相关系数        
----------------------------------------
grad_norm_ratio               -0.3928
grad_mean_range                0.3263
grad_mean_ratio                0.2998
grad_norm_range                0.2804

相关性解释:

────────────────────────────────────────────────────────────────────────────────
4. 极端剪枝层数影响
────────────────────────────────────────────────────────────────────────────────
与 ACC 的相关系数: -0.1269

按极端剪枝层数分组:
层数       平均ACC        实验数     
------------------------------
1        0.5535       1       
2        0.5619       3       
3        0.5803       7       
4        0.4988       3       
5        0.5739       18      
6        0.5578       8       
7        0.5544       4       
8        0.4666       1       

────────────────────────────────────────────────────────────────────────────────
5. PPL 与 ACC 的关系
────────────────────────────────────────────────────────────────────────────────
PPL 与 ACC 的相关系数: -0.7538

────────────────────────────────────────────────────────────────────────────────
6. 最佳配置详情
────────────────────────────────────────────────────────────────────────────────
剪枝方法: LAYERWISE
ACC mean: 0.6161
PPL: 10.80
taylor_seq_len: 128
taylor_num_samples: 512
grad_norm_ratio: 1.87
extreme_pruning_layers: 5

各任务详细 ACC:
  • BOOLQ          : 0.7618
  • PIQA           : 0.7465
  • HELLASWAG      : 0.6579
  • WINOGRANDE     : 0.6259
  • ARC_EASY       : 0.6940
  • ARC_CHALLENGE  : 0.4505
  • OPENBOOKQA     : 0.3760

================================================================================
MISTRAL 模型分析
================================================================================
总实验数: 45, 有效结果: 45, 无效实验: 0

────────────────────────────────────────────────────────────────────────────────
1. 剪枝方法对比
────────────────────────────────────────────────────────────────────────────────
方法              平均ACC        标准差        最小值        最大值        实验数     
--------------------------------------------------------------------------------
BLOCKWISE       0.5060       0.0469     0.4358     0.5947     15      
LAYERWISE       0.4968       0.0141     0.4708     0.5167     15      
TAYLOR          0.4686       0.0401     0.4174     0.5444     15      

✓ 最佳剪枝方法: BLOCKWISE (ACC: 0.5947)

────────────────────────────────────────────────────────────────────────────────
2. Taylor 参数影响分析
────────────────────────────────────────────────────────────────────────────────

按 taylor_seq_len 分组:
Seq Len      平均ACC        标准差        实验数     
--------------------------------------------------
16           0.4911       0.0244     9       
32           0.4867       0.0246     9       
64           0.5373       0.0368     9       
128          0.4919       0.0259     9       
256          0.4454       0.0220     9       
✓ 最佳 seq_len: 64 (平均 ACC: 0.5373)

按 taylor_num_samples 分组:
Num Samples  平均ACC        标准差        实验数     
--------------------------------------------------
128          0.4991       0.0406     15      
256          0.4879       0.0390     15      
512          0.4844       0.0384     15      
✓ 最佳 num_samples: 128 (平均 ACC: 0.4991)

────────────────────────────────────────────────────────────────────────────────
3. 梯度指标与 ACC 的相关性
────────────────────────────────────────────────────────────────────────────────
指标                        相关系数        
----------------------------------------
grad_mean_ratio               -0.3661
grad_norm_ratio                   nan
grad_mean_range               -0.5118
grad_norm_range                   nan

相关性解释:
  • grad_mean_range: 中等负相关 (-0.512)

────────────────────────────────────────────────────────────────────────────────
4. 极端剪枝层数影响
────────────────────────────────────────────────────────────────────────────────
与 ACC 的相关系数: 0.0843

按极端剪枝层数分组:
层数       平均ACC        实验数     
------------------------------
3        0.5085       4       
4        0.4900       2       
5        0.4523       2       
6        0.4547       4       
7        0.4825       16      
8        0.5365       6       
9        0.4812       4       
10       0.4986       6       
11       0.4776       1       

────────────────────────────────────────────────────────────────────────────────
5. PPL 与 ACC 的关系
────────────────────────────────────────────────────────────────────────────────
PPL 与 ACC 的相关系数: -0.5315

────────────────────────────────────────────────────────────────────────────────
6. 最佳配置详情
────────────────────────────────────────────────────────────────────────────────
剪枝方法: BLOCKWISE
ACC mean: 0.5947
PPL: 13.29
taylor_seq_len: 64
taylor_num_samples: 128
grad_norm_ratio: 10.72
extreme_pruning_layers: 8

各任务详细 ACC:
  • BOOLQ          : 0.6875
  • PIQA           : 0.7693
  • HELLASWAG      : 0.6377
  • WINOGRANDE     : 0.6440
  • ARC_EASY       : 0.6503
  • ARC_CHALLENGE  : 0.3959
  • OPENBOOKQA     : 0.3780


================================================================================
跨模型对比
================================================================================

模型           最佳方法         最佳ACC        最佳PPL        有效实验数       
--------------------------------------------------------------------------------
Qwen         LAYERWISE    0.6161       10.80        45          
Llama        BLOCKWISE    0.5980       13.17        45          
Mistral      BLOCKWISE    0.5947       13.29        45          

✓ 总体最佳: QWEN 模型
  - 剪枝方法: LAYERWISE
  - ACC: 0.6161
  - PPL: 10.80

✓ 已保存跨模型对比到: results/cross_model_comparison.json
